{"ast":null,"code":"import _slicedToArray from \"/mnt/c/Users/teste/project/syncimage/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/mnt/c/Users/teste/project/syncimage/frontend/src/pages/Login/index.js\";\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport Alert from \"../../componentes/Alert\";\nimport ValidaForms from \"../../componentes/ValidaForms\";\nimport \"./style.css\";\nimport loading from \"../../assets/loading.svg\";\nimport woman from \"../../assets/woman.jpg\";\nexport default function Login({\n  history\n}) {\n  const _useState = useState(''),\n        _useState2 = _slicedToArray(_useState, 2),\n        email = _useState2[0],\n        setEmail = _useState2[1];\n\n  const _useState3 = useState(''),\n        _useState4 = _slicedToArray(_useState3, 2),\n        password = _useState4[0],\n        setPassword = _useState4[1]; // alert\n\n\n  const _useState5 = useState(false),\n        _useState6 = _slicedToArray(_useState5, 2),\n        alertDisplay = _useState6[0],\n        setAlertDisplay = _useState6[1];\n\n  const _useState7 = useState([]),\n        _useState8 = _slicedToArray(_useState7, 2),\n        alertContext = _useState8[0],\n        setAlertContext = _useState8[1];\n\n  const _useState9 = useState([]),\n        _useState10 = _slicedToArray(_useState9, 2),\n        loginON = _useState10[0],\n        setLoginOn = _useState10[1];\n\n  async function handlerLogin(e) {\n    e.preventDefault();\n    const v = ValidaForms(username, 'username', {\n      min: 4,\n      max: 12\n    });\n    const vPassword = ValidaForms(password, 'password', {\n      min: 4,\n      max: 16\n    });\n\n    if (vUsername.length > 0) {\n      setAlertContext({\n        title: \"Falha ao logar\",\n        messege: vUsername[0].messege\n      });\n      setAlertDisplay(true);\n    }\n\n    if (vPassword.length > 0) {\n      setAlertContext({\n        title: \"Falha ao logar\",\n        messege: vPassword[0].messege\n      });\n      setAlertDisplay(true);\n    }\n\n    if (vUsername.length === 0 && vPassword.length === 0) {\n      const response = await axios.get(\"http://localhost:3001/api/users/\".concat(username));\n\n      if (response.data === null) {\n        setAlertContext({\n          title: \"Falha ao fazer login\",\n          messege: \"usuario digitado não exite.\"\n        });\n        setAlertDisplay(true);\n      } else {\n        localStorage.setItem('user_id', response.data._id);\n        history.push('/galeria');\n      }\n\n      console.log(response);\n    }\n  }\n\n  return React.createElement(\"div\", {\n    className: \"container-main\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, React.createElement(\"form\", {\n    className: \"form-login\",\n    onSubmit: handlerLogin,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"container-woman\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: woman,\n    alt: \"\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"content\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    className: \"title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }, \"Ola,\", React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, \"Bem vindo!\")), React.createElement(\"span\", {\n    className: \"description\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }, \"Fa\\xE7a upload das suas imagens, com qualidade e tenha acesso aonde estiver pelo computador ou celular.\"), React.createElement(\"div\", {\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    htmlFor: \"email\",\n    className: \"f-label\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, \"Seu email\"), React.createElement(\"input\", {\n    type: \"email\",\n    id: \"email\",\n    className: \"f-input\",\n    placeholder: \"E-mail\",\n    onChange: event => setEmail(event.target.value),\n    maxLength: \"10\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"form-group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    htmlFor: \"password\",\n    className: \"f-label\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97\n    },\n    __self: this\n  }, \"Sua senha\"), React.createElement(\"input\", {\n    type: \"password\",\n    id: \"password\",\n    className: \"f-input\",\n    placeholder: \"Digite uma senha segura\",\n    onChange: event => setPassword(event.target.value),\n    maxLength: \"10\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: \"form-row\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    type: \"checkbox\",\n    id: \"lebrar-me\",\n    onChange: event => setLoginOn(event.target.checked),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108\n    },\n    __self: this\n  }), React.createElement(\"label\", {\n    htmlFor: \"lebrar-me\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109\n    },\n    __self: this\n  }, \"Manter conectado\")), React.createElement(\"button\", {\n    className: \"btn-login\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112\n    },\n    __self: this\n  }, \"Login\"), React.createElement(\"img\", {\n    src: loading,\n    alt: \"\",\n    className: \"loading\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113\n    },\n    __self: this\n  }), React.createElement(\"span\", {\n    className: \"no-count\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114\n    },\n    __self: this\n  }, \"N\\xE3o tem uma conta? \", React.createElement(\"a\", {\n    href: \"#\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114\n    },\n    __self: this\n  }, \"Crie uma agora\")), React.createElement(Alert, {\n    title: alertContext.title,\n    messege: alertContext.messege,\n    display: alertDisplay,\n    onClose: e => {\n      setAlertDisplay(false);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115\n    },\n    __self: this\n  }))));\n}","map":{"version":3,"sources":["/mnt/c/Users/teste/project/syncimage/frontend/src/pages/Login/index.js"],"names":["React","useState","axios","Alert","ValidaForms","woman","Login","history","email","setEmail","password","setPassword","alertDisplay","setAlertDisplay","alertContext","setAlertContext","loginON","setLoginOn","handlerLogin","e","preventDefault","v","username","min","max","vPassword","vUsername","length","title","messege","response","get","data","localStorage","setItem","_id","push","console","log","event","target","value","checked","loading"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\nimport Alert from \"../../componentes/Alert\";\nimport ValidaForms from \"../../componentes/ValidaForms\";\n\nimport \"./style.css\";\nimport loading from \"../../assets/loading.svg\";\nimport woman from \"../../assets/woman.jpg\";\n\n\nexport default function Login({history}) {\n\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n\n\n    // alert\n    const [alertDisplay, setAlertDisplay] = useState(false);\n    const [alertContext, setAlertContext] = useState([]);\n    const [loginON, setLoginOn] = useState([])\n\n    async function handlerLogin(e){\n        e.preventDefault();\n\n        \n        const v = ValidaForms(username, 'username', { min: 4, max: 12 })\n        const vPassword = ValidaForms(password, 'password', { min: 4, max: 16 })\n\n        if (vUsername.length > 0) {\n            setAlertContext({\n                title: \"Falha ao logar\",\n                messege: vUsername[0].messege\n            })\n            setAlertDisplay(true);\n        }\n\n        if (vPassword.length > 0) {\n            setAlertContext({\n                title: \"Falha ao logar\",\n                messege: vPassword[0].messege\n            })\n            setAlertDisplay(true);\n        }\n\n        if(vUsername.length === 0 && vPassword.length === 0){\n\n\n     \n                const response =  await axios.get(`http://localhost:3001/api/users/${username}`);\n\n                if(response.data === null){\n                    setAlertContext({\n                        title: \"Falha ao fazer login\",\n                        messege: \"usuario digitado não exite.\"\n                    })\n                    setAlertDisplay(true);\n                }else{\n                    localStorage.setItem('user_id',response.data._id);\n                    history.push('/galeria')\n                }\n\n            console.log(response);\n\n\n\n\n        }\n    }\n\n\n    return (\n        <div className=\"container-main\">\n            <form className=\"form-login\" onSubmit={handlerLogin}>\n                <div className=\"container-woman\">\n                    <img src={woman} alt=\"\"/>\n                </div>\n               <div className=\"content\">\n               <h1 className=\"title\">\n                   Ola,\n                   <span>Bem vindo!</span>\n                </h1>\n                <span className=\"description\">\n                    Faça upload das suas imagens, com qualidade e tenha acesso aonde estiver pelo computador ou celular.\n                </span>\n                <div className=\"form-group\">\n                    <label htmlFor=\"email\" className=\"f-label\">Seu email</label>\n                    <input\n                        type=\"email\"\n                        id=\"email\"\n                        className=\"f-input\"\n                        placeholder=\"E-mail\"\n                        onChange={event => setEmail(event.target.value)}\n                        maxLength=\"10\"\n                    />\n                </div>\n                <div className=\"form-group\">\n                    <label htmlFor=\"password\" className=\"f-label\">Sua senha</label>\n                    <input\n                        type=\"password\"\n                        id=\"password\"\n                        className=\"f-input\"\n                        placeholder=\"Digite uma senha segura\"\n                        onChange={event => setPassword(event.target.value)}\n                        maxLength=\"10\"\n                    />\n                </div>\n                <div className=\"form-row\">\n                    <input type=\"checkbox\" id=\"lebrar-me\" onChange={event => setLoginOn(event.target.checked)}/>\n                    <label htmlFor=\"lebrar-me\">Manter conectado</label>\n                </div>\n\n                <button className=\"btn-login\">Login</button>\n                <img src={loading} alt=\"\" className=\"loading\"/>\n                <span className=\"no-count\">Não tem uma conta? <a href=\"#\">Crie uma agora</a></span>\n                <Alert\n                    title={alertContext.title}\n                    messege={alertContext.messege}\n                    display={alertDisplay}\n                    onClose={(e) => { setAlertDisplay(false) }} />\n               </div>\n            </form>\n        </div>\n    )\n}"]},"metadata":{},"sourceType":"module"}